<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Who Owes Who - Split Expenses Fairly</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ’° Who Owes Who</h1>
            <p class="subtitle">Split expenses fairly among friends</p>
        </header>

        <div class="main-content">
            <!-- Event Setup -->
            <section id="event-section" class="card">
                <h2>Create Event</h2>
                <div class="form-group">
                    <label for="event-name">Event Name</label>
                    <input type="text" id="event-name" placeholder="e.g., Ski Trip 2024" value="Ski Trip">
                </div>
                <div class="form-group">
                    <label for="currency">Currency</label>
                    <select id="currency">
                        <option value="USD">USD ($)</option>
                        <option value="EUR">EUR (â‚¬)</option>
                        <option value="GBP">GBP (Â£)</option>
                        <option value="JPY">JPY (Â¥)</option>
                    </select>
                </div>
                <button id="create-event-btn" class="btn btn-primary">Create Event</button>
                <div id="event-status" class="status-message"></div>
            </section>

            <!-- People Management -->
            <section id="people-section" class="card" style="display: none;">
                <h2>People</h2>
                <div class="form-group">
                    <input type="text" id="person-name" placeholder="Enter name">
                    <button id="add-person-btn" class="btn btn-secondary">Add Person</button>
                </div>
                <ul id="people-list" class="list"></ul>
            </section>

            <!-- Activities -->
            <section id="activities-section" class="card" style="display: none;">
                <h2>Activities</h2>
                <form id="activity-form">
                    <div class="form-group">
                        <label for="activity-description">Description</label>
                        <input type="text" id="activity-description" placeholder="e.g., Dinner at restaurant" required>
                    </div>
                    <div class="form-group">
                        <label for="activity-amount">Amount</label>
                        <input type="number" id="activity-amount" step="0.01" min="0" placeholder="0.00" required>
                    </div>
                    <div class="form-group">
                        <label for="activity-payer">Payer</label>
                        <select id="activity-payer" required></select>
                    </div>
                    <div class="form-group">
                        <label>Participants</label>
                        <div id="participants-checkboxes" class="checkbox-group"></div>
                    </div>
                    <div class="form-group">
                        <label for="split-strategy">Split Strategy</label>
                        <select id="split-strategy">
                            <option value="EQUAL">Equal Split</option>
                            <option value="WEIGHTED">Weighted</option>
                            <option value="FIXED_SHARES">Fixed Shares</option>
                        </select>
                    </div>
                    <div id="weights-section" class="form-group" style="display: none;">
                        <label>Weights (will be normalized)</label>
                        <div id="weights-inputs"></div>
                    </div>
                    <div id="shares-section" class="form-group" style="display: none;">
                        <label>Fixed Shares</label>
                        <div id="shares-inputs"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Activity</button>
                </form>
                <ul id="activities-list" class="list"></ul>
            </section>

            <!-- Settlement -->
            <section id="settlement-section" class="card" style="display: none;">
                <h2>Settlement</h2>
                <button id="compute-settlement-btn" class="btn btn-primary">Compute Settlement</button>
                
                <div id="settlement-results" style="display: none;">
                    <h3>Summary</h3>
                    <table id="summary-table" class="data-table">
                        <thead>
                            <tr>
                                <th>Person</th>
                                <th>Paid</th>
                                <th>Owed</th>
                                <th>Net</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                    <h3>Transfers</h3>
                    <div id="transfers-list"></div>
                </div>
            </section>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>

